
# Hacking into Vulnversity - TryHackMe
Vulnversity

Learn about active recon, web app attacks and privilege escalation.

https://tryhackme.com


# Reconnaissance

## Nmap

Scan the open ports
```bash
nmap 10.10.64.159 -p1-65535 --open -T5 -n -oG openPorts.txt
```
![1!](https://github.com/Roberto-Bruna/TryHackMe---Offensive-Pentesting-Learning-Path/blob/main/1-Vulnversity/images/1.PNG?raw=true)

nmap: command, stands for Network Mapper<br>
10.10.64.159: target host IP <br>
-p1-65535: port range to scan, is like -p- <br>
--open: port status, report only open ports<br>
-T5: fast scan but more intrusive, on the other hand -T0 is slower but less intrusive<br>
-n: skip DNS resolution, it’s faster <br>
-oG fileName: grepable output exported to fileName. It is a simple format that lists each host on one line and can be trivially searched and parsed with standard Unix tools such as grep, awk, cut, sed, diff


```bash
nmap 10.10.64.159 -p1-65535 --open -sS --min-rate 4000 -vvv -n -Pn -oG ports2.txt 
```

-sS: SYN scan is the default and most popular scan option for good reasons. It can be performed quickly, scanning thousands of ports per second on a fast network not hampered by restrictive firewalls. It is also relatively unobtrusive and stealthy since it never completes TCP connections. This technique is often referred to as half-open scanning, because you don't open a full TCP connection. You send a SYN packet, as if           you are going to open a real connection and then wait for a response. A SYN/ACK indicates the port is listening (open), while a RST (reset) is indicative of a non-listener. If no response is received after several retransmissions, the port is marked as filtered. The port is also marked filtered if an ICMP unreachable error (type 3, code 0, 1, 2, 3, 9, 10, or 13) is received. The port is also considered open if a SYN packet (without the ACK flag) is received in response. This can be due to an extremely rare TCP feature known as a simultaneous open or split handshake connection (see https://nmap.org/misc/split-handshake.pdf).<br>

-sU: UDP Scan<br>

-v: verbose, show in the output ports discovered, otherwise you have to wait until the end of the scan<br>

--min-rate: When the --min-rate option is given Nmap will do its best to send packets as fast as or faster than the given rate. The argument is a positive real number representing a packet rate in packets per second. For example, specifying --min-rate 300 means that Nmap will try to keep the sending rate at or above 300 packets per second. Specifying a minimum rate does not keep Nmap from going faster if conditions warrant.<br>
-Pn (No ping): skips the host discovery stage altogether<br>

This option skips the host discovery stage altogether. Normally, Nmap uses this stage to determine active machines for heavier scanning and to gauge the speed of the network. By default, Nmap only performs heavy probing such as port scans, version detection, or OS detection against hosts that are found to be up. Disabling host discovery with -Pn causes Nmap to attempt the requested scanning functions against every target IP address specified. So if a /16 sized network is specified on the command line, all 65,536 IP addresses are scanned. Proper host discovery is skipped as with the list scan, but instead of stopping and printing the target list, Nmap continues to perform requested functions as if each target IP is active. Default timing parameters are used, which may result in slower scans. To skip host discovery and port scan, while still allowing NSE to run, use the two options -Pn -sn together. <br>

For machines on a local ethernet network, ARP scanning will still be performed (unless --disable-arp-ping or --send-ip is specified) because Nmap needs MAC addresses to further scan target hosts. In previous versions of Nmap, -Pn was -P0 and -PN. <br>
<br>
<br>
Enumerate services running; let’s see what is behind the open ports
```bash
nmap 10.10.64.159 -sC -sV -p21,22,139,445,3128,3333 -oN target.txt
```
![2!](https://github.com/Roberto-Bruna/TryHackMe---Offensive-Pentesting-Learning-Path/blob/main/1-Vulnversity/images/2.PNG?raw=true)

-sV: Probe open ports to determine service/version info<br>
-sC: Performs a script scan using the default set of scripts. It is equivalent to --script=default. Some of the scripts in this category are considered intrusive and should not be run against a target network without permission.<br>
-p <port ranges>: Only scan specified ports; For example: -p22; -p1-65535; -p U:53,111,137,T:21-25,80,139,8080,S:9<br>
--exclude-ports <port ranges>: Exclude the specified ports from scanning<br>
-oN <filename> (normal output):  Write output in Nmap's normal format to <filename>. This format is roughly the same as the standard interactive output printed by Nmap at runtime<br>

## whatweb 
Identify technologies used by the website.
```bash
whatweb http://10.10.64.159:3333
```
![3!](https://github.com/Roberto-Bruna/TryHackMe---Offensive-Pentesting-Learning-Path/blob/main/1-Vulnversity/images/3.PNG?raw=true)

WhatWeb recognises web technologies including content management systems (CMS), blogging platforms, statistic/analytics packages, JavaScript libraries, web servers, and embedded devices. WhatWeb has over 1800  plugins,  each  to  recognise  something  different. WhatWeb also identifies version numbers, email addresses, account ID's, web framework modules, SQL errors, and more.

## wafw00f 
Identify and fingerprint Web Application Firewall products
```bash
wafw00f http://10.10.64.159:3333/
```
![4!](https://github.com/Roberto-Bruna/TryHackMe---Offensive-Pentesting-Learning-Path/blob/main/1-Vulnversity/images/4.PNG?raw=true)

wafw00f Sends  a normal HTTP request and analyses the response; this identifies a number of WAF solutions.  If that is not successful, it sends a number of (potentially malicious) HTTP requests and uses simple logic to deduce which WAF it is.  If that is also not successful, it analyses the responses previously returned and uses another simple algorithm to guess if a WAF or security solution is active><br>
The server has no web application firewall
  <br>
  <br>

Let’s see the webpage: browser > ip:port<br>
  ![5!](https://github.com/Roberto-Bruna/TryHackMe---Offensive-Pentesting-Learning-Path/blob/main/1-Vulnversity/images/5.PNG?raw=true)
  
  Don’t forget to add time to the machine’s deployment on the TryHackMe website <br>
  ![5.1!](https://github.com/Roberto-Bruna/TryHackMe---Offensive-Pentesting-Learning-Path/blob/main/1-Vulnversity/images/5.1.PNG?raw=true)
  
## gobuster 
  Now we can enumerate directories on the web server<br>
  https://github.com/OJ/gobuster
  ``bash
  gobuster dir -u http://10.10.64.159:3333/ -w /usr/share/dirbuster/wordlists/directory-list-2.3-medium.txt
  ``
  ![6!](https://github.com/Roberto-Bruna/TryHackMe---Offensive-Pentesting-Learning-Path/blob/main/1-Vulnversity/images/6.PNG?raw=true)
  
  
  
  
